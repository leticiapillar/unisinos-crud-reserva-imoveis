<menu-app></menu-app>

<div class="row">
    <div class="col-md-12">
		
		<h1><small>Cadastro de Pessoas</small></h1>
		<div class="page-header text-center">
			<h1>{{pessoa.nome}}</h1>
		</div>

		<p ng-show="mensagem.length" class="alert alert-info">{{mensagem}}</p>

		<form novalidate name="formulario" class="row col-md-12" ng-submit="submeter()">
            
			<div class="row">
	        	<div class="form-group col-md-6">
		            <label>* Tipo</label>
		            <select name="tipo" class="form-control" required
		                ng-controller="TiposPessoaController"
		                ng-model="pessoa.tipo"
		                ng-options="tipo._id as tipo.nome for tipo in tiposPessoa">
		                <option value="">Escolha um tipo de pessoa</option>
		            </select>
		            <span ng-show="formulario.$submitted && formulario.tipo.$error.required" class="form-control alert-danger">
						Por favor, informe o tipo de pessoa
		            </span>
		        </div>
            </div>
                
			<div class="row">
				<div class="form-group col-md-6">
					<label>* Nome</label>
					<input name="nome" class="form-control" ng-model="pessoa.nome" required ng-maxlength="100">
					<span ng-show = "formulario.$submitted && formulario.nome.$error.required" class="form-control alert-danger">
						Por favor, informe seu nome
					</span> 
					<span ng-show="formulario.$submitted && formulario.nome.$error.maxlength" class="form-control alert-danger">
						No máximo 100 caracteres!
					</span>   
				</div>
            </div>
            
			<div class="row">
	        	<div class="form-group col-md-3">
					<label>* CPF</label>
					<input name="cpf" class="form-control" ng-model="pessoa.cpf" required ui-br-cpf-mask>
					<span ng-show = "formulario.$submitted && formulario.cpf.$error.required" class="form-control alert-danger">
						Por favor, informe seu CPF
					</span> 
		        </div>
	        	<div class="form-group col-md-3">
					<label>* Telefone</label>
					<input name="telefon" class="form-control" ng-model="pessoa.telefone" required ui-br-phone-number>
					<span ng-show = "formulario.$submitted && formulario.telefone.$error.required" class="form-control alert-danger">
						Por favor, informe seu telefone
					</span> 
		        </div>
            </div>            
            
            <div class="row">
				<div class="form-group col-md-6">
					<label>* E-mail</label>
					<input name="email" class="form-control" ng-model="pessoa.email" required ng-maxlength="100">
					<span ng-show = "formulario.$submitted && formulario.email.$error.required" class="form-control alert-danger">
						Por favor, informe seu e-mail
					</span> 
					<span ng-show="formulario.$submitted && formulario.email.$error.maxlength" class="form-control alert-danger">
						No máximo 100 caracteres!
					</span>   
				</div>
            </div>
            
            <div class="row">
				<div class="form-group col-md-6">
					<label>Endereço</label>
					<input name="endereco" class="form-control" ng-model="pessoa.endereco" ng-maxlength="100">
					<span ng-show="formulario.$submitted && formulario.endereco.$error.maxlength" class="form-control alert-danger">
						No máximo 100 caracteres!
					</span>   
				</div>
            </div>
            
            <div class="row">
				<div class="form-group col-md-3">
					<label>Bairro</label>
					<input name="bairro" class="form-control" ng-model="pessoa.bairro" ng-maxlength="50">
					<span ng-show="formulario.$submitted && formulario.endereco.$error.maxlength" class="form-control alert-danger">
						No máximo 50 caracteres!
					</span>   
				</div>
				<div class="form-group col-md-3">
					<label>Cidade</label>
					<input name="cidade" class="form-control" ng-model="pessoa.cidade" ng-maxlength="50">
					<span ng-show="formulario.$submitted && formulario.cidade.$error.maxlength" class="form-control alert-danger">
						No máximo 50 caracteres!
					</span>   
				</div>
            </div>
            
            <div class="row">
				<div class="form-group col-md-3">
					<label>CEP</label>
					<input name="cep" class="form-control" ng-model="pessoa.cep" ui-br-cep-mask>
				</div>
				<div class="form-group col-md-3">
					<label>Estado</label>
                    <select name="estado" class="form-control"
                        ng-controller="EstadosController"
		                ng-model="pessoa.estado"
		                ng-options="state for state in states">
		                <option value="">Escolha um estado</option>
		            </select>
				</div>
            </div>
            
		    <div class="row col-md-6">
		        <button type="submit" class="btn btn-primary" ng-disabled="formulario.$invalid">
		            Salvar
		        </button>
            	<a href="/pessoas" class="btn btn-link">Cancelar</a>
			</div>
            
		</form>
	</div>
</div>